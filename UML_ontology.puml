@startuml

skinparam linetype polyline

title Motiva Framework Ontology

hide empty methods
hide empty attributes
hide empty members

left to right direction

skinparam nodesep 40
skinparam ranksep 40
skinparam packageStyle rectangle


package Metrics #ffe8e8 {
  class Metric #fda5a5ff {
    +timestamp: DateTime
    +value: float
  }

  class DailyAdherence #ffcdcdff extends Metric
  class WeeklyAdherence #ffcdcdff extends Metric
  class MechanicUsageRate  #ffcdcdff extends Metric
  class MechanicDisplayRate  #ffcdcdff extends Metric
  class MechanicEngagement  #ffcdcdff extends Metric
  class SessionDuration  #ffcdcdff extends Metric
  class ClickRate  #ffcdcdff extends Metric
  class Adherence  #ffcdcdff extends Metric
  class HesitationTime #ffcdcdff extends Metric
}

package KeySituations #e8faff {

  class KeySituation #bbf0ff

  class MechanicDisplayedKeySituation #d5f6ff extends KeySituation
  class MechanicInteractionKeySituation #d5f6ff extends KeySituation
  class MilestoneReachedKeySituation #d5f6ff extends KeySituation
  class DailyChallengePosedKeySituation #d5f6ff extends KeySituation
  class SessionStartedKeySituation #d5f6ff extends KeySituation
  class TaskStartedKeySituation #d5f6ff extends KeySituation
  class TaskFinishedKeySituation #d5f6ff extends KeySituation
  class SessionEndedKeySituation  #d5f6ff extends KeySituation

  note left of KeySituation
  Generic KeySituation structure used for multiple behavioral logs,
  such as screen visits, mechanic usage, and session tracking.
  end note
}

package AssistantActionss #e8e8ff {
  class AssistantActions #cacaff {
    timestamp: DateTime
  }

  note right of AssistantActions
  Punctual, attention-capturing break from routine.
  end note

  class Questionnaire #d6d6ff extends AssistantActions
  class AlertMessage #d6d6ff extends AssistantActions
  note right of AlertMessage
    Displays general information, warnings, or alerts intended 
    to guide, inform, or prompt the user during interaction.
  end note

  class Intrinsic_Motivation_Inventory #d6d6ff extends Questionnaire  
  class User_Engagement_Scale #d6d6ff extends Questionnaire  
  class SystemNotice #d6d6ff extends Questionnaire  
  class PromptMessage #d6d6ff extends Questionnaire 
}

package EventRegistration #f1f1f1{

  legend top right
  EventRegistration: evaluated user/system actions.
  relation to user with user being actor
  Event can trigger a keysituation
  Event produces a measurement
  end legend
  
  class Event #ccccccff {
    +timestamp: DateTime
    +element
  }
  together {
    class UserEvent #e6e6e6ff extends Event {
    }
    class SystemEvent #e6e6e6ff extends Event {
    }
    class TaskEvent #e6e6e6ff extends UserEvent {

    }
  }

  class EventCollection {
    +aggregatedAt: DateTime
  }

  EventCollection o-- "1..*" Event : "stores"
  
  note top of Event
  Event of User Action or System event, recorded and evaluated by application.
  Can be neutral like click or evaluated like error or success. Stored with TimeStamp.
  end note
  together {
    class ClickEvent #e6e6e6ff extends UserEvent 
    class LoginEvent #e6e6e6ff extends UserEvent 
    class TaskFinishedEvent #e6e6e6ff extends TaskEvent 

    class ErrorCommittedEvent #e6e6e6ff extends UserEvent 
    class HourPassedEvent #e6e6e6ff extends SystemEvent 
    class DayPassedEvent #e6e6e6ff extends SystemEvent
    class WeekPassedEvent #e6e6e6ff extends SystemEvent
    class MechanicInteraction #e6e6e6ff extends UserEvent
  }
}

package Plan_and_Tasks #ebffe8ff {

  class Plan #lightgreen {
    +name: String
    +description: String
  }

  note right of Plan
  A succession of task blocks (composites).
  end note

  class Task #lightgreen {
    +title: String
    +description: String
  }

  class Level #lightgreen {
    +name: String
    +difficulty: Int
  }

  class Repetitions #lightgreen {
    +count: Int
  }

  note bottom of Level
  Indicates the difficulty of a task. Optional as task might not have difficulty.
  end note

  note bottom of Repetitions
  Indicates the number of repetitions of a task. Mandatory to define plan.
  end note

  class TaskRequirement #lightgreen {
    +requiredRepetitions: int
  }

  note left of TaskRequirement
  How many times a Task must be repeated
  on a specific Level within a TaskBlock.
  end note

  class TaskAssignment #lightgreen {
    task: Task
    taskRequirement: TaskRequirement
  }

  note right of TaskAssignment
  Assigns a Task to a TaskBlock and defines
  required repetitions across Levels.
  end note

  class TaskBlock #lightgreen {
    +title: String
    +description: String
    +startDate: DateTime
    +endDate: DateTime
  }

  note right of TaskBlock
  Composite element: groups multiple TaskAssignments and TaskBlocks
  into a hierarchy. Allows nested structures.
  end note

  TaskAssignment --> "1" Task : "has assigned"
  TaskAssignment --> "1..*" TaskRequirement: "has Assigned"
  TaskRequirement --> "0..1" Level : can have
  TaskRequirement --> "1..*" Repetitions : requires

  Plan *--> "1..*" TaskBlock
  TaskBlock *--> "1..*" TaskAssignment : "contains"
}

package UserModel #fde8ffff {

  class User #f59bff {
  }

  class UserState #f7befeff{ 
    +timestamp: DateTime
  }

  User --> "1" Plan : "has"
  User --> "1..*" UserState : "has"

  class MotivationalState #f7befeff extends UserState { 
    +timestamp: DateTime
  }
  together {
    class "…" as OtherMotivationalStates #f5c6fbff extends MotivationalState
    class Low #f5c6fbff extends MotivationalState
    class Medium #f5c6fbff extends MotivationalState
    class High #f5c6fbff extends MotivationalState
  }

  class CognitiveLoadState #f7befeff extends UserState { 
    +timestamp: DateTime 
  }

  together {
    class "…" as OtherCognitiveLoadStates #f5c6fbff extends CognitiveLoadState
    class Underchallenged #f5c6fbff extends CognitiveLoadState
    class OptimalLoad #f5c6fbff extends CognitiveLoadState
    class Overloaded #f5c6fbff extends CognitiveLoadState
  }

  class UserTraitWeight #f7befeff {
    +weight: float  ' (0.0 – 1.0) '
  }

  User --> "1..*" UserTraitWeight : "has"
}

package UserTraits #fcffe8ff {
  class UserTrait #eaf797ff
  
  class MotivationalTrait #eaf797ff extends UserTrait
  note bottom of MotivationalTrait
  MotivationalTrait is a representation of a user's motivational characteristics.
  end note
  hide MotivationalTrait members

  class PlayerType #eaf797ff extends UserTrait
  note bottom of PlayerType
  Playertype is a representation of a user's gaming style or approach.
  end note

  class Philanthropist extends PlayerType {
    Motivated by Purpose.\n
    Philanthropists are altruistic,\n
    aiming to enrich others' lives.
  }

  class Achiever extends PlayerType{
    Motivated by Mastery.\n
    Achievers seek to learn new skills\n
    and continuamlly improve themselves.
  }


  class Free_Spirit extends PlayerType{
    Motivated by Autonomy.\n
    Free Spirits desire freedom to explore\n
    and create independently.
  }
  

  class Socializer extends PlayerType{
    Motivated by Relatedness.\n
    Socializers enjoy interaction and\n
    building social connections.
  }
  

  class Player extends PlayerType{
    Motivated by Rewards.\n
    Players do what is needed to collect\n
    rewards for themselves.
  }
  

  class Disruptor extends PlayerType{
    Motivated by Change.\n
    Disruptors try to alter the system,\n
    forcing positive or negative change.
  }
  

  class DigitalLiteracy #eaf797ff extends UserTrait
  hide DigitalLiteracy members
  note bottom of DigitalLiteracy
  Describes a user's familiarity and comfort with digital technologies,
  including software tools, navigation, and basic troubleshooting.
  end note

  class CognitiveAbility #eaf797ff extends UserTrait
  hide CognitiveAbility members
  note bottom of CognitiveAbility
  Represents a user's capacity for logical reasoning, memory, and 
  problem-solving. Important for adapting the complexity of tasks.
  end note

  class AttentionSpan #eaf797ff extends UserTrait
  hide AttentionSpan members
  note bottom of AttentionSpan
  Describes the user's ability to maintain focus over time. 
  Useful for pacing content and avoiding cognitive overload.
  end note

  class SelfDiscipline #eaf797ff extends UserTrait
  hide SelfDiscipline members
  note bottom of SelfDiscipline
  Indicates the user's ability to stay consistent, resist distractions, 
  and complete tasks independently.
  end note

  class FrustrationTolerance #eaf797ff extends UserTrait  
  hide FrustrationTolerance members
  note bottom of FrustrationTolerance
  Measures how well a user copes with difficulty, failure, or delay. 
  Helpful for adjusting challenge levels and support mechanisms.
  end note
}
MotivationalMechanics.Usertrait_Mechanic_Mapping.MechanicTraitWeight --> UserTraits.UserTrait : "maps"
MotivationalMechanics.Usertrait_Mechanic_Mapping.MechanicTraitWeight --> MotivationalMechanics.MotivationalMechanic : "maps"

package MotivationalMechanics #fff6e8 {

  left to right direction

  class MotivationalMechanic #ffe3b6ff
  hide MotivationalMechanic members

  class Progress_Indicators #ffecceff extends MotivationalMechanic
  class Level_and_Experience_Point_System extends Progress_Indicators

  class Competition_with_others #ffecceff extends MotivationalMechanic
  hide Competition_with_others members

  class Leaderboards extends Competition_with_others {
    As a core progression system, it provides a continuous sense of growth and achievement as users earn XP and unlock new levels or features
  }

  class Personal_Goals #ffecceff extends MotivationalMechanic
  hide Personal_Goals members

  class Self_Assigned_Targets extends Personal_Goals {
    Users define their own objectives.
  }

  class Personalization_and_Creativity #ffecceff extends MotivationalMechanic
  hide Personalization_and_Creativity members

  class Custom_Player_Made_Content extends Personalization_and_Creativity {
    User-generated content in-system.
  }

  class Sharing_Achievements #ffecceff extends MotivationalMechanic
  hide Sharing_Achievements members

  class Social_Share_Buttons extends Sharing_Achievements {
    Sharing accomplishments externally.
  }

  class Social_Networking #ffecceff extends MotivationalMechanic
  hide Social_Networking members

  class Community_Insights extends Social_Networking {
    Display others’ behaviors for comparison.
  }

  class Surprises_and_Events #ffecceff extends MotivationalMechanic
  hide Surprises_and_Events members

  class Mystery_Boxes extends Surprises_and_Events {
    Loot boxes with random content.
  }

  class Motivational_Messages #ffecceff extends MotivationalMechanic
  hide Motivational_Messages members

  class Encouraging_Messages extends Motivational_Messages {
    Positive reinforcement to sustain motivation.
  }

  class Time_Based_Challenges #ffecceff extends MotivationalMechanic
  hide Time_Based_Challenges members

  class Appointment_Dynamics extends Time_Based_Challenges {
    Scheduled events like Happy Hour.
  }

  class Rewards_and_Unlocks #ffecceff extends MotivationalMechanic
  hide Rewards_and_Unlocks members

  class In_Game_Currency extends Rewards_and_Unlocks {
    Accumulation of virtual money/resources.
  }

  package Usertrait_Mechanic_Mapping {    
    class MechanicTraitWeight {
      +weight: float  ' (-1.0 – 1.0) '
    }
    class Level_and_Experience_Point_System_to_Player extends MechanicTraitWeight {
      weight: 0.8
    }
    Level_and_Experience_Point_System_to_Player --> Player : "maps"
    Level_and_Experience_Point_System_to_Player --> Level_and_Experience_Point_System : "maps"
  }
}

Metrics -[hidden]-> EventRegistration
EventRegistration -[hidden]-> KeySituations
KeySituations -[hidden]-> AssistantActionss
AssistantActionss -[hidden]-> UserModel
UserModel -[hidden]-> UserTraits
UserTraits -[hidden]-> MotivationalMechanics

MotivationalMechanics.MotivationalMechanic --> UserModel.UserTraitWeight: "selected_by"

AssistantActionss.AssistantActions --> "0..1" MotivationalMechanics.MotivationalMechanic : "toggles"
AssistantActionss.AssistantActions --> "0..*" UserModel.User : "targets"
AssistantActionss.AssistantActions "1..*" --> "1..*" Metrics.Metric : "considers"
AssistantActionss.AssistantActions "1..*" --> "1..*" UserModel.UserTraitWeight : "considers"
AssistantActionss.AssistantActions "1..*" --> "1..*" UserModel.UserState : "considers"

EventRegistration.Event "1..*" --> "0..*" KeySituations.KeySituation : "triggers"

UserModel.MotivationalState --> Metrics.Metric : "reads"
UserModel.CognitiveLoadState --> Metrics.Metric : "reads"

UserModel.UserTraitWeight --> UserTraits.UserTrait : "references"
UserModel.User --> "1..*" Metrics.Metric   : "has"
UserModel.User --> "1..*" AssistantActionss.AssistantActions   : "receives"

KeySituations.KeySituation -->  "0..*" AssistantActionss.AssistantActions : "triggers"

Plan_and_Tasks.Task --> EventRegistration.TaskEvent : "triggers"

EventRegistration.TaskFinishedEvent --> KeySituations.TaskFinishedKeySituation : "triggers"
@enduml
